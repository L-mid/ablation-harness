schema: study/v1
study_name: "test_plots_cifar"
metric: "val/acc"
goal: "max"


# Default recipe for this study (ideally maps 1:1 to TrainConfig fields)
baseline:
  model: "tinycnn"
  epochs: 25
  batch_size: 128
  dataset: "cifar10"
  dropout: 0
  lr: 0.001
  wd: 0.0
  subset: 256            # full data, unless a variant overrides it
  num_workers: 0
  pin_memory: false
  run_id: id_writeup_baseline_1

  # Special: invokes spectral.py SDV, track each layer's top singular values
  spectral_diag:
    enabled: true
    every_n_epochs: 1
    topk: 5
    # save_dir: runs/spectral   # optional; defaults to the run_dir


# Repeat each variant across these seeds (unless CLI --seed overrides)
seeds: [0, 1, 2, 3]


# A small, curated set of baseline variants
variants: null

#   - name: "baseline_3k"
#    overrides:
#      subset: 3000         ‚Üê use TrainConfig field names, override
